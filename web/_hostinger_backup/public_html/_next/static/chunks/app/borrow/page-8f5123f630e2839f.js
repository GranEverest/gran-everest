(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[241],{904:function(e,a,t){Promise.resolve().then(t.bind(t,172))},172:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return z}});var n,b=t(8646),d=t(7437),i=t(7138),r=t(2265),s=t(6730),l=t(5856);let o={id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]},public:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"BaseScan",url:"https://basescan.org"}}},f={id:84532,name:"Base Sepolia",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]},public:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"BaseScan (Sepolia)",url:"https://sepolia.basescan.org"}}},c="https://mainnet.base.org".trim(),u=(n=o,c?{...n,rpcUrls:{default:{http:[c]},public:{http:[c]}}}:n);u.id;var p=JSON.parse('{"_format":"hh-sol-artifact-1","contractName":"EverestVault","sourceName":"src/EverestVault.sol","abi":[{"inputs":[{"internalType":"address","name":"_feeRecipient","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"BorrowDepositSameBlock","type":"error"},{"inputs":[],"name":"ExceedsBorrowLimit","type":"error"},{"inputs":[],"name":"InsufficientCollateral","type":"error"},{"inputs":[],"name":"PausedError","type":"error"},{"inputs":[],"name":"TransferFailed","type":"error"},{"inputs":[],"name":"ZeroAddress","type":"error"},{"inputs":[],"name":"ZeroAmount","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Borrowed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"grossAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"fee","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"netCollateral","type":"uint256"}],"name":"Deposited","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"newFeeRecipient","type":"address"}],"name":"FeeRecipientUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"newGuardian","type":"address"}],"name":"GuardianUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"by","type":"address"}],"name":"Paused","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"refund","type":"uint256"}],"name":"Repaid","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"by","type":"address"}],"name":"Unpaused","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"requestedAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"fee","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"netToUser","type":"uint256"}],"name":"Withdrawn","type":"event"},{"inputs":[],"name":"FEE_BPS","outputs":[{"internalType":"uint16","name":"","type":"uint16"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"LTV_BPS","outputs":[{"internalType":"uint16","name":"","type":"uint16"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"availableToBorrow","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"borrow","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"borrowLimit","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"collateral","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"debt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"deposit","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"feeRecipient","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"getUserData","outputs":[{"internalType":"uint256","name":"_collateral","type":"uint256"},{"internalType":"uint256","name":"_debt","type":"uint256"},{"internalType":"uint256","name":"_maxBorrow","type":"uint256"},{"internalType":"uint256","name":"_available","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"guardian","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"lastBorrowBlock","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"repay","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"_feeRecipient","type":"address"}],"name":"setFeeRecipient","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_guardian","type":"address"}],"name":"setGuardian","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unpause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}],"bytecode":"0x608060405234801561001057600080fd5b506040516110b93803806110b983398101604081905261002f916100d8565b61003833610088565b600180556001600160a01b0381166100635760405163d92e233d60e01b815260040160405180910390fd5b600380546001600160a01b0319166001600160a01b0392909216919091179055610108565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b6000602082840312156100ea57600080fd5b81516001600160a01b038116811461010157600080fd5b9392505050565b610fa2806101176000396000f3fe6080604052600436106101395760003560e01c80638da5cb5b116100ab578063c5ebeaec1161006f578063c5ebeaec14610377578063d0e30db014610397578063e74b981b1461039f578063f2fde38b146103bf578063fae3706f146103df578063ffc9896b146103f557600080fd5b80638da5cb5b146102aa5780639b6c56ec146102c8578063a5fdc5de146102f5578063b59ec47814610322578063bf333f2c1461034f57600080fd5b8063452a9320116100fd578063452a9320146101d7578063469048401461020f5780635c975abb1461022f578063715018a6146102605780638456cb59146102755780638a0dac4a1461028a57600080fd5b806328f5f502146101455780632c38199e146101785780632e1a7d4d146101985780633f4ba83a146101ba578063402d8883146101cf57600080fd5b3661014057005b600080fd5b34801561015157600080fd5b50610165610160366004610eae565b610435565b6040519081526020015b60405180910390f35b34801561018457600080fd5b50610165610193366004610eae565b61046f565b3480156101a457600080fd5b506101b86101b3366004610ede565b6104b9565b005b3480156101c657600080fd5b506101b861064e565b6101b86106f1565b3480156101e357600080fd5b506002546101f7906001600160a01b031681565b6040516001600160a01b03909116815260200161016f565b34801561021b57600080fd5b506003546101f7906001600160a01b031681565b34801561023b57600080fd5b5060035461025090600160a01b900460ff1681565b604051901515815260200161016f565b34801561026c57600080fd5b506101b861088a565b34801561028157600080fd5b506101b861089c565b34801561029657600080fd5b506101b86102a5366004610eae565b610940565b3480156102b657600080fd5b506000546001600160a01b03166101f7565b3480156102d457600080fd5b506101656102e3366004610eae565b60056020526000908152604090205481565b34801561030157600080fd5b50610165610310366004610eae565b60046020526000908152604090205481565b34801561032e57600080fd5b5061016561033d366004610eae565b60066020526000908152604090205481565b34801561035b57600080fd5b50610364601981565b60405161ffff909116815260200161016f565b34801561038357600080fd5b506101b8610392366004610ede565b6109b9565b6101b8610ac1565b3480156103ab57600080fd5b506101b86103ba366004610eae565b610bff565b3480156103cb57600080fd5b506101b86103da366004610eae565b610c78565b3480156103eb57600080fd5b50610364611b5881565b34801561040157600080fd5b50610415610410366004610eae565b610cee565b60408051948552602085019390935291830152606082015260800161016f565b6001600160a01b0381166000908152600460205260408120546127109061045f90611b5890610f0d565b6104699190610f24565b92915050565b60008061047b83610435565b6001600160a01b038416600090815260056020526040902054909150818110156104ae576104a98183610f46565b6104b1565b60005b949350505050565b6104c1610d32565b600354600160a01b900460ff16156104ec57604051633b3b4caf60e21b815260040160405180910390fd5b8060000361050d57604051631f2a200560e01b815260040160405180910390fd5b336000908152600460205260409020548082111561053e57604051633a23d82560e01b815260040160405180910390fd5b600061054a8383610f46565b9050600061271061055d611b5884610f0d565b6105679190610f24565b3360009081526005602052604090205490915081101561059a576040516397ba4de360e01b815260040160405180910390fd5b3360009081526004602052604081208390556127106105ba601987610f0d565b6105c49190610f24565b905060006105d28287610f46565b905081156105f0576003546105f0906001600160a01b031683610d8b565b6105fa3382610d8b565b604080518781526020810184905290810182905233907f75e161b3e824b114fc1a33274bd7091918dd4e639cede50b78b15a4eea956a219060600160405180910390a2505050505061064b60018055565b50565b6000546001600160a01b031633148061067157506002546001600160a01b031633145b6106b75760405162461bcd60e51b81526020600482015260126024820152712737ba1033bab0b93234b0b717b7bbb732b960711b60448201526064015b60405180910390fd5b6003805460ff60a01b1916905560405133907f5db9ee0a495bf2e6ff9c91a7834c1ba4fdd244a5e8aa4e537bd38aeae4b073aa90600090a2565b6106f9610d32565b600354600160a01b900460ff161561072457604051633b3b4caf60e21b815260040160405180910390fd5b3460000361074557604051631f2a200560e01b815260040160405180910390fd5b33600090815260056020526040812054908190036107a8576107673334610d8b565b604080516000815234602082015233917f1b8cd61ed43bec7c6bdad3a18ffee613f99c853d16c50678d248d879e1b43438910160405180910390a25061087f565b80341061081e5760006107bb8234610f46565b33600090815260056020526040812055905080156107dd576107dd3382610d8b565b604080518381526020810183905233917f1b8cd61ed43bec7c6bdad3a18ffee613f99c853d16c50678d248d879e1b43438910160405180910390a25061087d565b6108283482610f46565b3360008181526005602052604080822093909355915190917f1b8cd61ed43bec7c6bdad3a18ffee613f99c853d16c50678d248d879e1b434389161087491348252602082015260400190565b60405180910390a25b505b61088860018055565b565b610892610e04565b6108886000610e5e565b6000546001600160a01b03163314806108bf57506002546001600160a01b031633145b6109005760405162461bcd60e51b81526020600482015260126024820152712737ba1033bab0b93234b0b717b7bbb732b960711b60448201526064016106ae565b6003805460ff60a01b1916600160a01b17905560405133907f62e78cea01bee320cd4e420270b5ea74000d11b0c9f74754ebdbfc544b05a25890600090a2565b610948610e04565b6001600160a01b03811661096f5760405163d92e233d60e01b815260040160405180910390fd5b600280546001600160a01b0319166001600160a01b0383169081179091556040517f6bb7ff33e730289800c62ad882105a144a74010d2bdbb9a942544a3005ad55bf90600090a250565b6109c1610d32565b600354600160a01b900460ff16156109ec57604051633b3b4caf60e21b815260040160405180910390fd5b80600003610a0d57604051631f2a200560e01b815260040160405180910390fd5b33600090815260056020526040812054610a28908390610f59565b90506000610a3533610435565b905080821115610a58576040516397ba4de360e01b815260040160405180910390fd5b33600081815260056020908152604080832086905560069091529020439055610a819084610d8b565b60405183815233907fac59582e5396aca512fa873a2047e7f4c80f8f55d4a06cb34a78a0187f62719f9060200160405180910390a2505061064b60018055565b610ac9610d32565b600354600160a01b900460ff1615610af457604051633b3b4caf60e21b815260040160405180910390fd5b34600003610b1557604051631f2a200560e01b815260040160405180910390fd5b33600090815260066020526040902054439003610b44576040516255b3e560e21b815260040160405180910390fd5b6000612710610b54601934610f0d565b610b5e9190610f24565b90506000610b6c8234610f46565b33600090815260046020526040812080549293508392909190610b90908490610f59565b90915550508115610bb157600354610bb1906001600160a01b031683610d8b565b604080513481526020810184905290810182905233907f91ede45f04a37a7c170f5c1207df3b6bc748dc1e04ad5e917a241d0f52feada39060600160405180910390a2505061088860018055565b610c07610e04565b6001600160a01b038116610c2e5760405163d92e233d60e01b815260040160405180910390fd5b600380546001600160a01b0319166001600160a01b0383169081179091556040517f7a7b5a0a132f9e0581eb8527f66eae9ee89c2a3e79d4ac7e41a1f1f4d48a7fc290600090a250565b610c80610e04565b6001600160a01b038116610ce55760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b60648201526084016106ae565b61064b81610e5e565b6001600160a01b0381166000908152600460209081526040808320546005909252822054909180610d1e85610435565b9150610d298561046f565b90509193509193565b600260015403610d845760405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c0060448201526064016106ae565b6002600155565b6000826001600160a01b03168260405160006040518083038185875af1925050503d8060008114610dd8576040519150601f19603f3d011682016040523d82523d6000602084013e610ddd565b606091505b5050905080610dff576040516312171d8360e31b815260040160405180910390fd5b505050565b6000546001600160a01b031633146108885760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657260448201526064016106ae565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b600060208284031215610ec057600080fd5b81356001600160a01b0381168114610ed757600080fd5b9392505050565b600060208284031215610ef057600080fd5b5035919050565b634e487b7160e01b600052601160045260246000fd5b808202811582820484141761046957610469610ef7565b600082610f4157634e487b7160e01b600052601260045260246000fd5b500490565b8181038181111561046957610469610ef7565b8082018082111561046957610469610ef756fea2646970667358221220f625f4ca1c3af8f892cccd7b566a61937d9dd1a53af955a4a3d95676a544fac264736f6c63430008180033","deployedBytecode":"0x6080604052600436106101395760003560e01c80638da5cb5b116100ab578063c5ebeaec1161006f578063c5ebeaec14610377578063d0e30db014610397578063e74b981b1461039f578063f2fde38b146103bf578063fae3706f146103df578063ffc9896b146103f557600080fd5b80638da5cb5b146102aa5780639b6c56ec146102c8578063a5fdc5de146102f5578063b59ec47814610322578063bf333f2c1461034f57600080fd5b8063452a9320116100fd578063452a9320146101d7578063469048401461020f5780635c975abb1461022f578063715018a6146102605780638456cb59146102755780638a0dac4a1461028a57600080fd5b806328f5f502146101455780632c38199e146101785780632e1a7d4d146101985780633f4ba83a146101ba578063402d8883146101cf57600080fd5b3661014057005b600080fd5b34801561015157600080fd5b50610165610160366004610eae565b610435565b6040519081526020015b60405180910390f35b34801561018457600080fd5b50610165610193366004610eae565b61046f565b3480156101a457600080fd5b506101b86101b3366004610ede565b6104b9565b005b3480156101c657600080fd5b506101b861064e565b6101b86106f1565b3480156101e357600080fd5b506002546101f7906001600160a01b031681565b6040516001600160a01b03909116815260200161016f565b34801561021b57600080fd5b506003546101f7906001600160a01b031681565b34801561023b57600080fd5b5060035461025090600160a01b900460ff1681565b604051901515815260200161016f565b34801561026c57600080fd5b506101b861088a565b34801561028157600080fd5b506101b861089c565b34801561029657600080fd5b506101b86102a5366004610eae565b610940565b3480156102b657600080fd5b506000546001600160a01b03166101f7565b3480156102d457600080fd5b506101656102e3366004610eae565b60056020526000908152604090205481565b34801561030157600080fd5b50610165610310366004610eae565b60046020526000908152604090205481565b34801561032e57600080fd5b5061016561033d366004610eae565b60066020526000908152604090205481565b34801561035b57600080fd5b50610364601981565b60405161ffff909116815260200161016f565b34801561038357600080fd5b506101b8610392366004610ede565b6109b9565b6101b8610ac1565b3480156103ab57600080fd5b506101b86103ba366004610eae565b610bff565b3480156103cb57600080fd5b506101b86103da366004610eae565b610c78565b3480156103eb57600080fd5b50610364611b5881565b34801561040157600080fd5b50610415610410366004610eae565b610cee565b60408051948552602085019390935291830152606082015260800161016f565b6001600160a01b0381166000908152600460205260408120546127109061045f90611b5890610f0d565b6104699190610f24565b92915050565b60008061047b83610435565b6001600160a01b038416600090815260056020526040902054909150818110156104ae576104a98183610f46565b6104b1565b60005b949350505050565b6104c1610d32565b600354600160a01b900460ff16156104ec57604051633b3b4caf60e21b815260040160405180910390fd5b8060000361050d57604051631f2a200560e01b815260040160405180910390fd5b336000908152600460205260409020548082111561053e57604051633a23d82560e01b815260040160405180910390fd5b600061054a8383610f46565b9050600061271061055d611b5884610f0d565b6105679190610f24565b3360009081526005602052604090205490915081101561059a576040516397ba4de360e01b815260040160405180910390fd5b3360009081526004602052604081208390556127106105ba601987610f0d565b6105c49190610f24565b905060006105d28287610f46565b905081156105f0576003546105f0906001600160a01b031683610d8b565b6105fa3382610d8b565b604080518781526020810184905290810182905233907f75e161b3e824b114fc1a33274bd7091918dd4e639cede50b78b15a4eea956a219060600160405180910390a2505050505061064b60018055565b50565b6000546001600160a01b031633148061067157506002546001600160a01b031633145b6106b75760405162461bcd60e51b81526020600482015260126024820152712737ba1033bab0b93234b0b717b7bbb732b960711b60448201526064015b60405180910390fd5b6003805460ff60a01b1916905560405133907f5db9ee0a495bf2e6ff9c91a7834c1ba4fdd244a5e8aa4e537bd38aeae4b073aa90600090a2565b6106f9610d32565b600354600160a01b900460ff161561072457604051633b3b4caf60e21b815260040160405180910390fd5b3460000361074557604051631f2a200560e01b815260040160405180910390fd5b33600090815260056020526040812054908190036107a8576107673334610d8b565b604080516000815234602082015233917f1b8cd61ed43bec7c6bdad3a18ffee613f99c853d16c50678d248d879e1b43438910160405180910390a25061087f565b80341061081e5760006107bb8234610f46565b33600090815260056020526040812055905080156107dd576107dd3382610d8b565b604080518381526020810183905233917f1b8cd61ed43bec7c6bdad3a18ffee613f99c853d16c50678d248d879e1b43438910160405180910390a25061087d565b6108283482610f46565b3360008181526005602052604080822093909355915190917f1b8cd61ed43bec7c6bdad3a18ffee613f99c853d16c50678d248d879e1b434389161087491348252602082015260400190565b60405180910390a25b505b61088860018055565b565b610892610e04565b6108886000610e5e565b6000546001600160a01b03163314806108bf57506002546001600160a01b031633145b6109005760405162461bcd60e51b81526020600482015260126024820152712737ba1033bab0b93234b0b717b7bbb732b960711b60448201526064016106ae565b6003805460ff60a01b1916600160a01b17905560405133907f62e78cea01bee320cd4e420270b5ea74000d11b0c9f74754ebdbfc544b05a25890600090a2565b610948610e04565b6001600160a01b03811661096f5760405163d92e233d60e01b815260040160405180910390fd5b600280546001600160a01b0319166001600160a01b0383169081179091556040517f6bb7ff33e730289800c62ad882105a144a74010d2bdbb9a942544a3005ad55bf90600090a250565b6109c1610d32565b600354600160a01b900460ff16156109ec57604051633b3b4caf60e21b815260040160405180910390fd5b80600003610a0d57604051631f2a200560e01b815260040160405180910390fd5b33600090815260056020526040812054610a28908390610f59565b90506000610a3533610435565b905080821115610a58576040516397ba4de360e01b815260040160405180910390fd5b33600081815260056020908152604080832086905560069091529020439055610a819084610d8b565b60405183815233907fac59582e5396aca512fa873a2047e7f4c80f8f55d4a06cb34a78a0187f62719f9060200160405180910390a2505061064b60018055565b610ac9610d32565b600354600160a01b900460ff1615610af457604051633b3b4caf60e21b815260040160405180910390fd5b34600003610b1557604051631f2a200560e01b815260040160405180910390fd5b33600090815260066020526040902054439003610b44576040516255b3e560e21b815260040160405180910390fd5b6000612710610b54601934610f0d565b610b5e9190610f24565b90506000610b6c8234610f46565b33600090815260046020526040812080549293508392909190610b90908490610f59565b90915550508115610bb157600354610bb1906001600160a01b031683610d8b565b604080513481526020810184905290810182905233907f91ede45f04a37a7c170f5c1207df3b6bc748dc1e04ad5e917a241d0f52feada39060600160405180910390a2505061088860018055565b610c07610e04565b6001600160a01b038116610c2e5760405163d92e233d60e01b815260040160405180910390fd5b600380546001600160a01b0319166001600160a01b0383169081179091556040517f7a7b5a0a132f9e0581eb8527f66eae9ee89c2a3e79d4ac7e41a1f1f4d48a7fc290600090a250565b610c80610e04565b6001600160a01b038116610ce55760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b60648201526084016106ae565b61064b81610e5e565b6001600160a01b0381166000908152600460209081526040808320546005909252822054909180610d1e85610435565b9150610d298561046f565b90509193509193565b600260015403610d845760405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c0060448201526064016106ae565b6002600155565b6000826001600160a01b03168260405160006040518083038185875af1925050503d8060008114610dd8576040519150601f19603f3d011682016040523d82523d6000602084013e610ddd565b606091505b5050905080610dff576040516312171d8360e31b815260040160405180910390fd5b505050565b6000546001600160a01b031633146108885760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657260448201526064016106ae565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b600060208284031215610ec057600080fd5b81356001600160a01b0381168114610ed757600080fd5b9392505050565b600060208284031215610ef057600080fd5b5035919050565b634e487b7160e01b600052601160045260246000fd5b808202811582820484141761046957610469610ef7565b600082610f4157634e487b7160e01b600052601260045260246000fd5b500490565b8181038181111561046957610469610ef7565b8082018082111561046957610469610ef756fea2646970667358221220f625f4ca1c3af8f892cccd7b566a61937d9dd1a53af955a4a3d95676a544fac264736f6c63430008180033","linkReferences":{},"deployedLinkReferences":{}}'),y=t(1087),m=t(9532),h=t(5053),w=t(6029);let x=Array.isArray(p.abi)?p.abi:p,v="0xA3F0e117F200763b7FA37250BFF63CBF690364B4",g=(0,s.v)({chain:u,transport:(0,l.d)("https://mainnet.base.org".trim())}),j=window.ethereum?(0,y.K)({chain:u,transport:(0,m.P)(window.ethereum)}):void 0,T=e=>Number((0,h.d)(e)),k=e=>(0,w.f)(String(e)),E=async()=>{if(!j)throw Error("Wallet no disponible. Conect\xe1 tu wallet.");let e=await j.getAddresses(),a=null==e?void 0:e[0];if(!a)throw Error("No se detect\xf3 ninguna cuenta conectada.");return a},N=async()=>await g.readContract({address:v,abi:x,functionName:"paused",args:[]}),C=async e=>{let[a,t,n,b]=await g.readContract({address:v,abi:x,functionName:"getUserData",args:[e]});return{collateral:a,debt:t,maxBorrow:n,available:b}},S=async(e,a)=>{try{if(!j)throw Error("Wallet no disponible. Conect\xe1 tu wallet.");let t=null!=a?a:await E(),n=await j.writeContract({address:v,abi:x,functionName:"deposit",args:[],value:k(e),account:t,chain:u});return await g.waitForTransactionReceipt({hash:n}),{ok:!0,hash:n}}catch(e){return{ok:!1,error:(null==e?void 0:e.shortMessage)||(null==e?void 0:e.message)||"Tx failed"}}},M=async(e,a)=>{try{if(!j)throw Error("Wallet no disponible. Conect\xe1 tu wallet.");let t=null!=a?a:await E(),n=await j.writeContract({address:v,abi:x,functionName:"borrow",args:[k(e)],account:t,chain:u});return await g.waitForTransactionReceipt({hash:n}),{ok:!0,hash:n}}catch(e){return{ok:!1,error:(null==e?void 0:e.shortMessage)||(null==e?void 0:e.message)||"Tx failed"}}},B=async(e,a)=>{try{if(!j)throw Error("Wallet no disponible. Conect\xe1 tu wallet.");let t=null!=a?a:await E(),n=await j.writeContract({address:v,abi:x,functionName:"repay",args:[],value:k(e),account:t,chain:u});return await g.waitForTransactionReceipt({hash:n}),{ok:!0,hash:n}}catch(e){return{ok:!1,error:(null==e?void 0:e.shortMessage)||(null==e?void 0:e.message)||"Tx failed"}}},F=async(e,a)=>{try{if(!j)throw Error("Wallet no disponible. Conect\xe1 tu wallet.");let t=null!=a?a:await E(),n=await j.writeContract({address:v,abi:x,functionName:"withdraw",args:[k(e)],account:t,chain:u});return await g.waitForTransactionReceipt({hash:n}),{ok:!0,hash:n}}catch(e){return{ok:!1,error:(null==e?void 0:e.shortMessage)||(null==e?void 0:e.message)||"Tx failed"}}},R=e=>{let[a,t]=(0,r.useState)(null),[n,b]=(0,r.useState)(!1),[d,i]=(0,r.useState)(null),s=(0,r.useCallback)(async()=>{var a,n,d;try{if(b(!0),!e){t(null),i(null);return}let[d,r]=await Promise.all([N(),C(e)]),s=0;try{let e=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=ethereum&vs_currencies=usd"),t=await e.json();s=Number(null!==(n=null==t?void 0:null===(a=t.ethereum)||void 0===a?void 0:a.usd)&&void 0!==n?n:0)||0}catch(e){s=0}t({...r,paused:d,collateralEth:T(r.collateral),borrowedEth:T(r.debt),borrowLimitEth:T(r.maxBorrow),availableEth:T(r.available),priceEthUsd:s}),i(null)}catch(e){i(null!==(d=null==e?void 0:e.message)&&void 0!==d?d:"Unexpected error")}finally{b(!1)}},[e]);return(0,r.useEffect)(()=>{s()},[s]),{state:a,loading:n,error:d,deposit:async a=>{let t=await S(a,e);return t.ok&&await s(),t},withdraw:async a=>{let t=await F(a,e);return t.ok&&await s(),t},borrow:async a=>{let t=await M(a,e);return t.ok&&await s(),t},repay:async a=>{let t=await B(a,e);return t.ok&&await s(),t},refresh:s}};function W(){let e=(0,b._)(["\n                                                                                     +           \n                                                                                    =+                        \n                                                                                   ===-                                                                                   \n                                                                                  =+=----                                                                                 \n                                                                                +++++---=--                                                                               \n                                                                               ++**++--=-=-=                                                                              \n                                                                             ++++++*=---==-=-                                                                             \n                                                                            +++++***+--------=-                                                                           \n                                                                          +++++******=---------=                                                                          \n                                                                         ++++++******+=----------                                                                         \n                                                                        ++*+++*+******=--------=--=                                                                       \n                                                                      +++++**********+-----==------=                                                                      \n                                                                     ++**+********++=-=----------------                                                                   \n                                                                   =++**+*****+**+=---==------==-------=                                                                  \n                                                                 =++++*#***********---=-==-----==------=-=                                                                \n                                                                ++++*****++*#+***#**=-----=---=--===----=--                                                               \n                                                               ++**+*+++******####*++=-----=-----=-==------=                                                              \n                                                              ++*#**++**+*######*+--===-----=------===-------                                                             \n                                                            =++***++*############=---===-----==---=-===--=--==                                                            \n                                                          ++++***+######**#+###**=----=-=-----===----===--==---=                                                          \n                                                         ++*+****######**+*##**###+-----==------==-----==--=-=----                                                         \n                                                    +++++++*#*+#######*++###**#####*--------------++-----======+=----=                                                    \n                                                 +++++++*++**+#######+**###*+#*######*=----------=-=+--==--=-===+=--=+=-=-                                                \n                                                +#++++**+++++*###*##+#####***###########-----------===---=---====++++++---==                                              \n                                              ++**#+=++=++++#**##**+####*#**#############=---------===+---=-====+*+++++=-----                                            \n                                            ++*#******+++++**#*#+++#####*+#####*###########+--------===+=-----=++++++++==-----=                                          \n                                           ***++#####*##**+*++*++####*#***######*##*########--------=-====-----=+++=++#+++=----=                                         \n                                          ++++**########++++++*####***+**####*##############=---=-------===------==+++**+++++-----                                        \n                                      +++*+++++###++##*++=+++#####*##+*###*###*##*##########+---==+++=---==-------=+++++++++=+=--===                                     \n                                    *#*=-==+++=+++*+=++==+++#####+*++*#####*+*########%##%#++----=++*=-----=--------=+*+++++=++=---==-                                    \n                                   *###+-----==+++++====+**####+*++++*#++#++++######%##==---=------=+++=-----==-=----=+++=+++++++----=-=                                  \n                                 ######++=---------==++++++**++**+*+**+++++**########*##------------=++===------=---=--=++==+=++===--=+=--                                 \n                               +######***#+---=+=--=--====+++++++*+**+++++*#########++###=----------===++=-----------===-====+=+++=-----====                              \n                             +##########*+++*+==++--===--==++**++++++++++######*++==++*+--+-------===-=++++===--------==+=-=+==++=++------==-=                            \n                           *##*##########**+##+-++++----=---===+++++++*########+-----------+*=---=-=++=-+++*+*+=-----=--==+===*+=+++++---------                           \n                          ################**###*=-=+++==-===---=++++*###########+-----------=+*+-----==++=++*+++=---------=+=--=+++=++++----==---=                        \n                        *#######*#########*+*###*=--==++=+-==+==+++++++**########+----=----==-+**+=--=--++****#***+---------===-==+++=+++=--====-==                       \n                       *####*+*#####*+#####+=+####+=--==++++==+*+++++=++###########=--+++----=++##*+--+===+##**####*#*#=--------=--=+++=+++---======                      \n                      ###############++###*#+++###++++=-==++*++++==+###########%#%##%+-++**+==-=++###+=+#++++*#####*###**#=--===-----=-++++++--==++==                     \n                    #####**###########*++#####++*###++*#*+===+==*##########%#%%##%#####+=+=##+=++=+####++*###**##*###*##*#***==+++=------=++++==+=====                    \n                   *#########%#########**################+#*++##%#################%############***####*##++*#######*##########*==++++==+==*#*##*+=+++==+                  \n                 #*#######################+#################%%##############%%#%%##%##%##########*###*###++##*#########*#####**##++***###**+#***#++++++++                 \n                #############%#%#%#%##%##########*###########%%%%%%#%#%##%%%##%%%##%##############*##*#########*#########**######%#*+###*##%#*#+###*#*##*+                \n              *#######%#%##%%##%%#%#%%#%#######%#%#%###%#%%%#%%#%#%#%%%%#%#%%#%%#%%%%#%##%#%###%######*#################%#######%#############%############*              \n              ######*##########*###############################*############################################*###*######*###############*#*###############*##+             \n"]);return W=function(){return e},e}let D="en-US",_=new Intl.NumberFormat(D,{minimumFractionDigits:2,maximumFractionDigits:2}),L=(0,s.v)({chain:u,transport:(0,l.d)("https://mainnet.base.org")}),A=String.raw(W());function z(){var e,a,t,n;let[b,s]=(0,r.useState)(!0),[l,o]=(0,r.useState)(null);(0,r.useEffect)(()=>{var e,a,t;if(!(null===(e=window)||void 0===e?void 0:e.ethereum))return;window.ethereum.request({method:"eth_accounts"}).then(e=>{var a;return o(null!==(a=null==e?void 0:e[0])&&void 0!==a?a:null)}).catch(()=>o(null));let n=e=>{var a;return o(null!==(a=null==e?void 0:e[0])&&void 0!==a?a:null)};return null===(a=(t=window.ethereum).on)||void 0===a||a.call(t,"accountsChanged",n),()=>{var e,a;return null===(a=window.ethereum)||void 0===a?void 0:null===(e=a.removeListener)||void 0===e?void 0:e.call(a,"accountsChanged",n)}},[]);let f=async()=>{var e,a;if(!(null===(e=window)||void 0===e?void 0:e.ethereum))return alert("No wallet provider.");let t=await window.ethereum.request({method:"eth_requestAccounts"});o(null!==(a=null==t?void 0:t[0])&&void 0!==a?a:null)},{state:c,loading:u,error:p,deposit:y,withdraw:m,borrow:h,repay:w,refresh:x}=R(null!=l?l:void 0);(0,r.useEffect)(()=>{document.documentElement.classList.toggle("dark",b)},[b]);let[v,g]=(0,r.useState)(null);(0,r.useEffect)(()=>{var e,a,t;(async()=>{try{var e,a;let t=await (null===(a=window)||void 0===a?void 0:null===(e=a.ethereum)||void 0===e?void 0:e.request({method:"eth_chainId"}));g(null!=t?t:null)}catch(e){g(null)}})();let n=e=>g(e);return null===(t=window)||void 0===t||null===(a=t.ethereum)||void 0===a||null===(e=a.on)||void 0===e||e.call(a,"chainChanged",n),()=>{var e,a,t;return null===(t=window)||void 0===t?void 0:null===(a=t.ethereum)||void 0===a?void 0:null===(e=a.removeListener)||void 0===e?void 0:e.call(a,"chainChanged",n)}},[]);let j="0x2105"===v,T="0x14a34"===v,[k,E]=(0,r.useState)(null),C=e=>{E(e),setTimeout(()=>E(null),2200)},S="ge:hist:".concat(null!=l?l:"no-account"),[M,B]=(0,r.useState)([]);(0,r.useEffect)(()=>{let e=localStorage.getItem(S);B(e?(()=>{try{return JSON.parse(e)}catch(e){return[]}})():[])},[S]);let F=e=>{let a=[e,...M].slice(0,100);B(a),localStorage.setItem(S,JSON.stringify(a))},[W,z]=(0,r.useState)(!1),H=W?M:M.slice(0,5),[I,U]=(0,r.useState)(""),[O,P]=(0,r.useState)(""),V=Number(I),q=Number.isFinite(V)&&V>0,G=Number(O),$=Number.isFinite(G)&&G>0,J=null!==(e=null==c?void 0:c.collateralEth)&&void 0!==e?e:0,Z=null!==(a=null==c?void 0:c.borrowedEth)&&void 0!==a?a:0,K=null!==(t=null==c?void 0:c.borrowLimitEth)&&void 0!==t?t:0,X=null!==(n=null==c?void 0:c.priceEthUsd)&&void 0!==n?n:0,Y=e=>_.format(e*X),[Q,ee]=(0,r.useState)(null),[ea,et]=(0,r.useState)(null),[en,eb]=(0,r.useState)(!1),[ed,ei]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=!0,a=async()=>{try{let[a,t]=await Promise.all([L.getBlockNumber(),N()]);if(!e)return;et(a),ei(!!t)}catch(e){}};a();let t=setInterval(a,2500);return()=>{e=!1,clearInterval(t)}},[]);let er=null!==Q&&null!==ea&&Q===ea,es=async()=>{if(!q)return C("Enter amount > 0");if(ed)return C("Vault is paused");if(er&&!en)return C("Wait 1 block or override");let e=await y(V);if((null==e?void 0:e.ok)===!1)return C(e.error||"Deposit failed");F({t:Date.now(),action:"deposit",amount:V}),C("Deposit done")},el=async()=>{if(!q)return C("Enter amount > 0");if(ed)return C("Vault is paused");let e=await w(V);if((null==e?void 0:e.ok)===!1)return C(e.error||"Repay failed");F({t:Date.now(),action:"repay",amount:V}),C("Repay done")},[eo,ef]=(0,r.useState)(0),ec=eo/100*K-Z,eu=async()=>{let e=Number(ec.toFixed(6));if(!(1e-9>Math.abs(e))){if(ed)return C("Vault is paused");if(e>0){if(Z+e>K+1e-12)return C("Exceeds borrow limit");let a=await h(e);if((null==a?void 0:a.ok)===!1)return C(a.error||"Borrow failed");ee(await L.getBlockNumber()),F({t:Date.now(),action:"borrow",amount:e}),C("Borrow done")}else{let a=await w(Math.abs(e));if((null==a?void 0:a.ok)===!1)return C(a.error||"Repay failed");F({t:Date.now(),action:"repay",amount:Math.abs(e)}),C("Repay done")}}},ep=e=>Math.max(0,Z-Math.max(0,(J-e)*.7)),ey=$?ep(G):0,em=async()=>{if(!$)return C("Enter a valid withdraw amount");if(ed)return C("Vault is paused");if(G>J+1e-12)return C("Exceeds collateral");if(ey>1e-12){let e=await w(ey);if((null==e?void 0:e.ok)===!1)return C(e.error||"Repay failed");F({t:Date.now(),action:"repay",amount:ey}),C("Repay done")}let e=await m(G);if((null==e?void 0:e.ok)===!1)return C(e.error||"Withdraw failed");F({t:Date.now(),action:"withdraw",amount:G}),C("Withdraw done")},eh=async()=>{if(ed)return C("Vault is paused");if(J<=0)return C("No collateral");if(Z>1e-12){let e=await w(Z);if((null==e?void 0:e.ok)===!1)return C(e.error||"Repay failed");F({t:Date.now(),action:"repay",amount:Z}),C("Repay done")}let e=await m(J);if((null==e?void 0:e.ok)===!1)return C(e.error||"Withdraw failed");F({t:Date.now(),action:"withdraw",amount:J}),C("Withdraw ALL done")},ew=(0,r.useMemo)(()=>l?"".concat(l.slice(0,6),"...").concat(l.slice(-4)):"—",[l]),ex=eo<=40?120-eo/40*60:eo<=60?60-(eo-40)/20*30:Math.max(0,30-(eo-60)/10*30),[ev,eg]=(0,r.useState)(!1),ej=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let e=e=>{ej.current&&!ej.current.contains(e.target)&&eg(!1)};return window.addEventListener("click",e),()=>window.removeEventListener("click",e)},[]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("main",{className:"relative min-h-screen overflow-x-hidden z-[5]",children:[(0,d.jsxs)("header",{style:{position:"fixed",top:0,left:0,width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.7rem 1.5rem",zIndex:1e3},children:[(0,d.jsx)(i.default,{href:"/",className:"ge-logo",style:{textDecoration:"none"},children:"GranEverest"}),(0,d.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10},children:[(0,d.jsx)(i.default,{href:"/",className:"ge-btn small",children:"← Home"}),(0,d.jsxs)("div",{style:{position:"relative"},children:[(0,d.jsx)("button",{ref:ej,onClick:()=>l?eg(e=>!e):f(),className:"ge-btn",title:l?"Wallet options":"Connect wallet",children:l?"Connected":"Connect Wallet"}),l&&ev&&(0,d.jsxs)("div",{className:"ge-rect",style:{position:"absolute",right:0,top:"calc(100% + 6px)",padding:6,display:"grid",gap:6,background:"var(--panel)",minWidth:200,zIndex:1100},children:[(0,d.jsx)("div",{style:{fontSize:".85rem",opacity:.9,padding:"4px 6px",textAlign:"left"},children:ew}),(0,d.jsx)("button",{onClick:()=>o(null),className:"ge-btn small",style:{width:"100%"},children:"Disconnect"})]})]}),(0,d.jsx)("button",{disabled:!0,className:"ge-rect",style:{cursor:"default",color:j||T?"#22c55e":"#f87171",minWidth:110,justifyContent:"center"},title:null!=v?v:"No wallet",children:v?j?"Base":T?"Base Sepolia":"Net ".concat(v):"No wallet"}),(0,d.jsxs)("button",{onClick:()=>s(!b),className:"ge-btn",style:{width:160,justifyContent:"flex-start"},children:[(0,d.jsx)("span",{className:"ge-dot",style:{background:b?"#fff":"#000"}}),b?"Light":"Dark"]})]})]}),(0,d.jsx)("div",{style:{marginTop:"5.25rem",width:"100%",display:"flex",justifyContent:"center"},children:(0,d.jsx)("div",{className:"ge-mountain-wrap",style:{marginTop:0},children:(0,d.jsx)("pre",{className:"ge-mountain","aria-hidden":"true",children:A})})}),(0,d.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:(0,d.jsx)("h1",{style:{fontWeight:500,letterSpacing:"-0.02em",margin:"0.2rem 0 0.2rem",fontSize:"2.4rem"},children:"Loans"})}),(0,d.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:(0,d.jsx)("p",{style:{marginBottom:"0.35rem",fontSize:"0.9rem",opacity:.9},children:"ETH Vault"})}),(0,d.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:(0,d.jsxs)("p",{style:{marginBottom:"1rem",fontSize:"0.9rem"},children:["Connected: ",ew]})}),p&&(0,d.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:(0,d.jsx)("p",{style:{color:"#f87171",marginBottom:10,maxWidth:420,textAlign:"left"},children:p})}),(0,d.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:(0,d.jsxs)("div",{style:{border:"1px solid var(--border)",borderRadius:10,padding:16,marginTop:8,width:420,maxWidth:"92vw",textAlign:"left",background:"var(--panel)",boxSizing:"border-box"},children:[ed&&(0,d.jsx)("div",{className:"mt-1 mb-3 rounded-lg border px-3 py-2 text-sm opacity-90",children:"Vault is currently paused by the admin. Deposits, borrows, repays and withdrawals are temporarily disabled."}),u&&(0,d.jsx)("p",{className:"text-sm",style:{opacity:.7},children:"Processing…"}),(0,d.jsxs)("section",{style:{display:"grid",gap:10},children:[(0,d.jsx)("label",{className:"text-sm",style:{opacity:.95},htmlFor:"amt",children:"Amount (ETH)"}),(0,d.jsx)("input",{id:"amt",type:"number",min:"0",step:"any",placeholder:"0.00",value:I,onChange:e=>U(e.target.value),className:"w-full p-2 border border-gray-400 rounded bg-transparent text-center"}),(0,d.jsxs)("div",{className:"row",style:{justifyContent:"space-between",gap:8},children:[(0,d.jsx)("button",{className:"ge-btn",style:{width:"49%"},onClick:es,disabled:u||!q||!l||ed||er&&!en,title:ed?"Paused":er&&!en?"Wait 1 block or enable override":void 0,children:er&&!en?"Wait 1 block…":"Deposit"}),(0,d.jsx)("button",{className:"ge-btn",style:{width:"49%"},onClick:el,disabled:u||!q||!l||ed,children:"Repay"})]}),er&&(0,d.jsxs)("label",{className:"mt-1 flex items-center gap-2 text-sm opacity-80",children:[(0,d.jsx)("input",{type:"checkbox",checked:en,onChange:e=>eb(e.target.checked)}),"I know what I’m doing (override guard)"]})]}),(0,d.jsx)("hr",{style:{border:"none",borderTop:"1px solid #333",margin:"0.9rem 0"}}),(0,d.jsxs)("section",{children:[(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem",opacity:.9,marginBottom:6},children:[(0,d.jsx)("span",{children:"Borrow target"}),(0,d.jsxs)("span",{children:[eo,"% of limit"]})]}),(0,d.jsx)("input",{"aria-label":"Borrow target percentage",type:"range",min:0,max:70,step:1,value:eo,onChange:e=>ef(Number(e.target.value)),className:"ge-range",style:{accentColor:"hsl(".concat(ex,"deg 70% 50%)")}}),(0,d.jsx)("button",{onClick:eu,className:"ge-btn",style:{width:"100%",marginTop:10},disabled:u||!l||ed,children:"Borrow"})]}),(0,d.jsx)("hr",{style:{border:"none",borderTop:"1px solid #333",margin:"0.9rem 0"}}),(0,d.jsxs)("section",{style:{display:"grid",gap:6},children:[(0,d.jsxs)("p",{children:[(0,d.jsx)("b",{children:"Collateral:"})," ",J.toFixed(4)," ETH ($",Y(J),")"]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("b",{children:"Debt:"})," ",Z.toFixed(4)," ETH ($",Y(Z),")"]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("b",{children:"Max borrow:"})," ",K.toFixed(4)," ETH ($",Y(K),")"]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("b",{children:"Available to borrow:"})," ",Math.max(K-Z,0).toFixed(4)," ETH ($",Y(Math.max(K-Z,0)),")"]}),(0,d.jsx)("div",{className:"ge-bar",style:{marginTop:6},children:(0,d.jsx)("span",{style:{width:"".concat(Math.min(Z/Math.max(K,1e-9)*100,100).toFixed(2),"%"),background:Z/Math.max(K,1e-9)<.4?"#16a34a":Z/Math.max(K,1e-9)<.6?"#eab308":Z/Math.max(K,1e-9)<=.7?"#f59e0b":"#ef4444"}})})]}),(0,d.jsx)("hr",{style:{border:"none",borderTop:"1px solid #333",margin:"0.9rem 0"}}),(0,d.jsxs)("section",{style:{display:"grid",gap:10},children:[(0,d.jsxs)("div",{className:"row",style:{alignItems:"center"},children:[(0,d.jsx)("label",{htmlFor:"wd",style:{minWidth:90},children:"Withdraw"}),(0,d.jsx)("input",{id:"wd",type:"number",min:"0",step:"any",placeholder:"Amount (ETH)",value:O,onChange:e=>P(e.target.value),className:"flex-1 p-2 border border-gray-400 rounded bg-transparent text-right"})]}),$?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("p",{style:{fontSize:"0.9rem",opacity:.9},children:["To withdraw ",(0,d.jsxs)("b",{children:[G.toFixed(6)," ETH"]}),", you must first repay at least ",(0,d.jsxs)("b",{children:[ep(G).toFixed(6)," ETH"]})," (if any) to keep LTV ≤ 70%."]}),(0,d.jsx)("button",{onClick:em,className:"ge-btn",style:{width:"100%"},disabled:u||!$||!l||ed,children:"Withdraw"})]}):O&&(0,d.jsx)("p",{style:{color:"#f87171",fontSize:"0.85rem"},children:"Enter a valid amount ≤ your collateral"}),(0,d.jsxs)("div",{style:{marginTop:6,padding:10,border:"1px dashed #555",borderRadius:8,background:"transparent",fontSize:"0.9rem"},children:[(0,d.jsxs)("div",{style:{marginBottom:6},children:["To withdraw ",(0,d.jsx)("b",{children:"100% of your collateral"}),", you must first fully repay your outstanding debt: ",(0,d.jsxs)("b",{children:[Z.toFixed(6)," ETH"]}),". The app can do this automatically for you."]}),(0,d.jsx)("button",{onClick:eh,className:"ge-btn",style:{width:"100%"},disabled:u||J<=0||!l||ed,children:"Withdraw ALL"})]})]}),(0,d.jsx)("hr",{style:{border:"none",borderTop:"1px solid #333",margin:"0.9rem 0"}}),(0,d.jsxs)("p",{style:{fontSize:"0.9rem",opacity:.95},children:["Protocol fee: ",(0,d.jsx)("b",{children:"0.25%"})," on ",(0,d.jsx)("b",{children:"deposit"})," and ",(0,d.jsx)("b",{children:"withdrawal"})," only. Borrow and repay have no protocol fee."]}),(0,d.jsx)("p",{style:{fontSize:"0.85rem",opacity:.85},children:"Users pay their own L2 gas. ETH↔WETH wrapping/unwrapping is 1:1 (no conversion fee — gas only). Any third-party costs are paid by the user."}),(0,d.jsx)("div",{className:"mt-3 flex justify-center",children:(0,d.jsx)("button",{onClick:x,className:"ge-btn",children:"● Refresh"})}),M.length>0&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("hr",{style:{border:"none",borderTop:"1px solid #333",margin:"0.9rem 0"}}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,d.jsx)("b",{children:"History"}),(0,d.jsx)("button",{className:"ge-btn small",onClick:()=>z(e=>!e),children:W?"Collapse history":"Expand history"})]}),(0,d.jsx)("ul",{style:{marginTop:6,fontSize:"0.9rem",opacity:.9},children:H.map((e,a)=>(0,d.jsxs)("li",{style:{display:"flex",justifyContent:"space-between"},children:[(0,d.jsx)("span",{children:new Date(e.t).toLocaleString(D)}),(0,d.jsx)("span",{style:{textTransform:"capitalize"},children:e.action}),(0,d.jsxs)("span",{children:[e.amount.toFixed(6)," ETH"]})]},a))})]})]})]})}),k&&(0,d.jsx)("div",{style:{position:"fixed",bottom:24,left:"50%",transform:"translateX(-50%)",background:"rgba(255,255,255,0.06)",border:"1px solid #666",padding:"8px 12px",borderRadius:8,zIndex:1200},children:k})]}),(0,d.jsxs)("footer",{className:"ge-page-footer",children:["\xa9 ",new Date().getFullYear()," GranEverest \xb7 ",j?"Base":"Base Sepolia"]})]})}}},function(e){e.O(0,[125,964,971,23,744],function(){return e(e.s=904)}),_N_E=e.O()}]);